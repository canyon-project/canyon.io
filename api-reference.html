<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.jsdelivr.net/npm/redoc@latest/bundles/redoc.standalone.js"> </script>
    <style>
        /*img[alt*="Workflow logo"]{*/
        /*    width: 50px;*/
        /*    text-align: center;*/
        /*    !*margin-left: 100px;*!*/
        /*}*/
        html,body{
            padding: 0;
            margin: 0;
        }
    </style>
    <title>canyon</title>
</head>
<body>
<div id="redoc-container">
</div>
</body>
<script>
    const swJson = {
        "openapi": "3.0.0",
        "paths": {
            "/vi/health": {
                "get": {
                    "operationId": "Health Examination",
                    "parameters": [],
                    "responses": {
                        "200": {
                            "description": ""
                        }
                    },
                    "tags": [
                        "App"
                    ]
                }
            },
            "/api/user": {
                "get": {
                    "operationId": "Current User Info",
                    "parameters": [],
                    // "requestBody": {
                    //     "required": true,
                    //     "content": {
                    //         "application/json": {
                    //             "schema": {
                    //                 "type": "object",
                    //                 "properties": {
                    //                     "canyonId": {
                    //                         "type": "string",
                    //                         "description": "canyon Id"
                    //                     },
                    //                     "password": {
                    //                         "type": "string",
                    //                         "description": "password",
                    //                         "example":"1111"
                    //                     }
                    //                 },
                    //                 "required": [
                    //                     "canyonId",
                    //                     "password"
                    //                 ]
                    //             }
                    //         }
                    //     }
                    // },
                    "responses": {
                        "200":{
                            "description": "Returns the currently authenticated user.",
                            "content": {
                                "application/json":{
                                    "schema":{
                                        "type":"object",
                                        "properties":{
                                            "id": {
                                                "type": "number",
                                                "de":"The ID of this user",
                                                "example": 1
                                            },
                                            "username": {
                                                "type": "string",
                                                "description": "The username of this user",
                                                "example":"octocat"
                                            },
                                            "nickname": {
                                                "type": "string",
                                                "description": "The nickname of this user",
                                                "example":"octocat"
                                            }
                                        }
                                    }
                                }
                            },
                        }

                    },
                    "tags": [
                        "User"
                    ]
                }
            },
            "/api/coverage/client": {
                "post": {
                    "operationId": "Reporting coverage.",
                    "parameters": [],
                    // "requestBody": {
                    //     "required": true,
                    //     "content": {
                    //         "application/json": {
                    //             "schema": {
                    //                 "type": "object",
                    //                 "properties": {
                    //                     "canyonId": {
                    //                         "type": "string",
                    //                         "description": "canyon Id"
                    //                     },
                    //                     "password": {
                    //                         "type": "string",
                    //                         "description": "password",
                    //                         "example":"1111"
                    //                     }
                    //                 },
                    //                 "required": [
                    //                     "canyonId",
                    //                     "password"
                    //                 ]
                    //             }
                    //         }
                    //     }
                    // },
                    "responses": {
                        "200":{
                            "description": "Coverage reported successfully",
                            "content": {
                                "application/json":{
                                    "schema":{
                                        "type":"object",
                                        "properties":{
                                            "coverageRepositoryInsertResult": {
                                                "type": "object",
                                                "example": {
                                                    "identifiers": [
                                                        {
                                                            "id": 4
                                                        }
                                                    ],
                                                    "generatedMaps": [
                                                        {
                                                            "id": 4,
                                                            "createdAt": "2022-05-14T00:56:14.208Z",
                                                            "updatedAt": "2022-05-14T00:56:14.208Z",
                                                            "commitSha": "18df9db74a09cee5d32c1f2ecaffb9a47e5775af",
                                                            "repoId": 1,
                                                            "instrumentCwd": "/Users/zhangtao/Desktop/canyon-project/test/canyon-platform",
                                                            "reporter": 1
                                                        }
                                                    ],
                                                    "raw": {
                                                        "fieldCount": 0,
                                                        "affectedRows": 1,
                                                        "insertId": 4,
                                                        "info": "",
                                                        "serverStatus": 2,
                                                        "warningStatus": 0
                                                    }
                                                }
                                            },
                                            "coverageModelInsertManyResult": {
                                                "type": "object",
                                                "example":{
                                                    "coverage":{},
                                                    "_id":"627f9019830a2ae910959786"
                                                }
                                            },
                                        }
                                    }
                                }
                            },
                        }

                    },
                    "tags": [
                        "Coverage"
                    ]
                }
            },
        },
        "info": {
            "title": "Canyon API",
            "description": "Canyon provides a comprehensive remote API for interacting with the Canyon server. This section of the documents provides instructions for authenticating and using the remote API.",
            "version": "1.110",
            "contact": {},
            "x-logo": {
                "url": "https://canyon-project.github.io/canyon.io/img/api-logo.png",
                "altText": "Workflow logo"
            },
        },
        "tags": [
        ],
        "servers": [],
        "components": {
            "securitySchemes": {
                "access-token": {
                    "type": "http",
                    "scheme": "bearer",
                    "bearerFormat": "JWT",
                    "name": "Token"
                }
            },
            "schemas": {
                "CurrentUserInfoExample": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "number",
                            "example": 905019230
                        },
                        "password": {
                            "type": "string",
                            "description": "password",
                            "example":"asfasfasfa"
                        }
                    }
                },
                "AuthLoginDto": {
                    "type": "object",
                    "properties": {
                        "canyonId": {
                            "type": "string",
                            "description": "canyon Id"
                        },
                        "password": {
                            "type": "string",
                            "description": "password",
                            "example":"asfasfasfa"
                        }
                    },
                    "required": [
                        "canyonId",
                        "password"
                    ]
                },
                "CreateUserDto": {
                    "type": "object",
                    "properties": {}
                },
                "CoverageClientDto": {
                    "type": "object",
                    "properties": {
                        "projectName": {
                            "type": "string",
                            "description": "项目名称"
                        },
                        "gitCommitHash": {
                            "type": "string",
                            "description": "commit hash"
                        },
                        "path": {
                            "type": "string",
                            "description": "path"
                        },
                        "coverage": {
                            "type": "string",
                            "description": "coverage"
                        }
                    },
                    "required": [
                        "projectName",
                        "gitCommitHash",
                        "path",
                        "coverage"
                    ]
                },
                "GetManyGitWarehouseResponseDto": {
                    "type": "object",
                    "properties": {
                        "data": {
                            "type": "array",
                            "items": {
                                "$ref": "#/components/schemas/GitWarehouse"
                            }
                        },
                        "count": {
                            "type": "number"
                        },
                        "total": {
                            "type": "number"
                        },
                        "page": {
                            "type": "number"
                        },
                        "pageCount": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "data",
                        "count",
                        "total",
                        "page",
                        "pageCount"
                    ]
                },
                "GitWarehouse": {
                    "type": "object",
                    "properties": {}
                },
                "CreateManyGitWarehouseDto": {
                    "type": "object",
                    "properties": {
                        "bulk": {
                            "type": "array",
                            "items": {
                                "$ref": "#/components/schemas/GitWarehouse"
                            }
                        }
                    },
                    "required": [
                        "bulk"
                    ]
                }
            }
        }
    }

    Redoc.init(swJson, {
        logo: {
            url: 'https://redocly.github.io/redoc/petstore-logo.png',
            backgroundColor: '#F0F0F0',
            altText: 'PetStore logo'
        },
    }, document.getElementById('redoc-container'))
</script>
</html>
